(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["StoregeGiftAddList"],{"048b":function(t,e,i){"use strict";var a=i("40ec"),n=i.n(a);n.a},"380a":function(t,e,i){"use strict";var a=i("a0af"),n=i.n(a);n.a},"40ec":function(t,e,i){},"6ac7":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex-row flex-between-stretch size-28 color-393d49 gift-list bgcolor-f",on:{click:function(e){return t.handleClick(t.result)}}},[void 0!==t.checked?i("div",{staticClass:"gift-list-check flex-row flex-center"},[i("van-checkbox",{attrs:{name:t.result.gift_id},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}})],1):t._e(),i("div",{staticClass:"flex-1 flex-row flex-between-stretch"},[i("div",{staticClass:"flex-row flex-start-stretch"},[t.result.thumb||t.result.gift_img?i("div",{staticClass:"gift-list-img bgcolor-f2 flex-row flex-center"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.result.thumb||t.result.gift_img,expression:"result.thumb || result.gift_img"}],staticClass:"gift-list-img-content",on:{click:function(e){return e.stopPropagation(),t.APP_IMAGEPREVIEW_MUTATE({previewImage:[t.result.img],imagePreviewShow:!0})}}})]):t._e(),i("div",{staticClass:"flex-column flex-center-start"},[i("span",{staticClass:"color-393d49 size-30 weight-bold padding-bottom-20 max-width-400 text-ellipsis text-break text-justify"},[t._v(t._s(t.result.gift_name))]),i("span",{staticClass:"size-28 color-454545"},[t._v("编号"+t._s(t.result.gift_id))])])]),t._t("default")],2)])},n=[],s=i("5530"),c=i("2f62"),r={name:"GiftList",components:{},props:{result:{type:Object}},data:function(){return{}},computed:{checked:{get:function(){return this.result.checked},set:function(t){this.$emit("trigger-click",Object(s["a"])(Object(s["a"])({},this.result),{},{checked:t}))}}},methods:Object(s["a"])(Object(s["a"])({},Object(c["c"])(["APP_IMAGEPREVIEW_MUTATE"])),{},{handleClick:function(){this.$emit("trigger-click",Object(s["a"])(Object(s["a"])({},this.result),{},{checked:!this.result.checked}))}})},l=r,o=(i("9388"),i("2877")),d=Object(o["a"])(l,a,n,!1,null,"5938b618",null),f=d.exports;e["a"]=f},"6b72":function(t,e,i){"use strict";var a=i("fefb"),n=i.n(a);n.a},9388:function(t,e,i){"use strict";var a=i("a3fb"),n=i.n(a);n.a},a0af:function(t,e,i){},a3fb:function(t,e,i){},b4ee:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{class:t.wrapClasses,style:t.styles,on:{click:t.handleClick}})},n=[],s=(i("99af"),i("b0c0"),i("d3b7"),i("ac1f"),i("25f0"),i("1276"),i("2909")),c={name:"HhfIcon",components:{},props:{classes:[Array,String],styles:Object,name:{type:String,required:!0}},data:function(){return{}},computed:{wrapClasses:function(){var t=["hhf-icon","hhf-iconfont","hhf-icon-".concat(this.name)];if("[object Array]"===Object.prototype.toString.call(this.classes))t=[].concat(Object(s["a"])(t),Object(s["a"])(this.classes));else if("string"===typeof this.classes){var e=this.classes.split(" ");t=[].concat(Object(s["a"])(t),Object(s["a"])(e))}return t}},mounted:function(){},methods:{handleClick:function(){this.$emit("trigger-click")}}},r=c,l=i("2877"),o=Object(l["a"])(r,a,n,!1,null,"0e833f38",null),d=o.exports;e["a"]=d},d239:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex-row flex-between-center bgcolor-f2 header-search"},[i("form",{staticClass:"flex-1",attrs:{action:"javascript:return true"}},[i("van-search",{staticClass:"header-search-content",attrs:{value:t.value,placeholder:t.placeholder,background:"#f2f2f2"},on:{input:t.handleInput,search:t.handleSearch}})],1),t.filter?i("div",{staticClass:"header-search-filter color-2f4056"},[i("van-icon",{attrs:{name:"filter-o"},on:{click:t.handleClick}})],1):t._e()])},n=[],s={name:"HeaderSearch",components:{},model:{event:"trigger-input"},props:{value:{default:""},filter:{type:Boolean,default:!1},status:{type:Boolean,default:!1},placeholder:String},data:function(){return{}},mounted:function(){},methods:{handleSearch:function(){this.$emit("trigger-search",this.value)},handleInput:function(t){this.$emit("trigger-input",t)},handleClick:function(){this.$emit("trigger-click")}}},c=s,r=(i("380a"),i("2877")),l=Object(r["a"])(c,a,n,!1,null,null,null),o=l.exports;e["a"]=o},de0f:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["size-0",t.getBottomZIndexCls]},[i("div",{class:t.wrapClasses,style:t.wrapStyles,on:{click:t.handleClick}},[i("div",{staticClass:"hhf-button-container flex-row flex-center"},[!t.$slots.loading&&t.loading?[i("div",{staticClass:"hhf-button-loading-container"},[i("div",{staticClass:"hhf-button-loading-content"},[i("HhfIcon",{attrs:{name:"spinner-loading"}})],1)])]:t.loading?[t._t("loading")]:t._e(),t._t("default")],2)])])},n=[],s=(i("99af"),i("caad"),i("a9e3"),i("d3b7"),i("ac1f"),i("25f0"),i("1276"),i("5530")),c=i("b4ee"),r={name:"",components:{HhfIcon:c["a"]},props:{disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingText:{type:String,default:"加载中…"},text:{type:String,default:"确定"},bottomZIndex:{type:Number},radius:String,activeColor:Object,plain:Boolean,type:{type:String,default:"default",validator:function(t){return["default","primary","success","info","warning","danger"].includes(t)}},size:{type:String,default:"normal",validator:function(t){return["normal","large","small","mini","custom"].includes(t)}},classes:[String,Array],styles:Object},data:function(){return{}},computed:{getBottomZIndexCls:function(){return this.bottomZIndex?"hhf-button-".concat(this.size,"-height"):null},wrapClasses:function(){var t=this.classes,e=this.size,i=this.type,a=this.plain,n=this.loading,s=this.disabled,c=this.bottomZIndex,r=["hhf-button","hhf-button-".concat(i),"hhf-button-".concat(e),c?"hhf-button-".concat(e,"-fixed"):null];if("[object Array]"===Object.prototype.toString.call(t))r=r.concat(t);else if("string"===typeof t){var l=t.split(" ");r=r.concat(l)}return a&&r.push("hhf-button-plain"),n&&r.push("hhf-button-loading"),s&&r.push("hhf-button-disabled"),r},wrapStyles:function(){var t=this.styles,e=this.radius,i=this.bottomZIndex,a=Object(s["a"])(Object(s["a"])({},t),{},{borderRadius:e,zIndex:i});return a}},mounted:function(){},methods:{handleClick:function(){var t=this.loading,e=this.disabled;t||e||this.$emit("trigger-click")}}},l=r,o=(i("048b"),i("2877")),d=Object(o["a"])(l,a,n,!1,null,null,null),f=d.exports;e["a"]=f},e4bf:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"storege-gift-add-list"},[i("div",{staticClass:"storege-gift-add-list-header"},[i("div",{staticClass:"fixed-max-width top-0"},[i("HeaderSearch",{attrs:{placeholder:"请输入礼品名称或编号"},on:{"trigger-search":t.handleSearch},model:{value:t.giftSearch,callback:function(e){t.giftSearch=e},expression:"giftSearch"}}),i("h5",{staticClass:"size-28 flex-row flex-between-center margin-0 padding-20-30 bgcolor-f"},[i("span",[t._v("礼品列表")]),i("HhfButton",{attrs:{type:"info",size:"small",radius:"0.4rem"},on:{"trigger-click":t.handleGo}},[t._v("新增礼品")])],1),i("div",{staticClass:"border"})],1)]),i("van-pull-refresh",{staticStyle:{overflow:"initial"},on:{refresh:t.handleRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[i("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了",offset:10},on:{load:t.handleLoading},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(e,a){return i("div",{key:a},[i("GiftList",{attrs:{result:e},on:{"trigger-click":t.handleChecked}}),i("div",{staticClass:"border"})],1)})),0)],1),i("div",{staticClass:"height-100"},[i("div",{staticClass:"fixed-max-width bottom-0 size-0 zindex-2"},[i("HhfButton",{attrs:{type:"info",size:"large"},on:{"trigger-click":t.handleAdd}},[t._v("添加")])],1)])],1)},n=[],s=(i("99af"),i("4de4"),i("d81d"),i("5530")),c=i("d239"),r=i("de0f"),l=i("6ac7"),o=i("365c"),d=i("2f62"),f={name:"StoregeGiftAddList",components:{HeaderSearch:c["a"],HhfButton:r["a"],GiftList:l["a"]},data:function(){return{list:[],isLoading:!1,loading:!1,finished:!0,giftSearch:"",page:1}},computed:{},mounted:function(){this.handleLoading()},methods:Object(s["a"])(Object(s["a"])({},Object(d["c"])(["GIFT_GIFTSTORAGELIST_MUTATE"])),{},{handleSearch:function(){var t=this;this.page=1,this.getGiftCreateList((function(e){t.list=e}))},getGiftCreateList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.$Loading({message:"加载中..."});var i=this.page,a=this.giftSearch,n=this.$route.query.bid;Object(o["w"])({gift_id:a,brand_id:n,page:i}).then((function(a){var n=[];t.$Loading.clear(),"0"===a.return_code?(t.page=++i,n=a.data.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{checked:!1})}))):a.msg&&t.$Tip.warning({mask:!0,message:a.msg}),e(n)}))},handleRefresh:function(){var t=this;this.page=1,this.getGiftCreateList((function(e){t.list=e,t.isLoading=!1}))},handleLoading:function(){var t=this;this.getGiftCreateList((function(e){t.list=t.list.concat(e),t.finished=0===e.length,t.loading=!1}))},handleChecked:function(t){this.list=this.list.map((function(e){var i=Object(s["a"])({},e);return t.gift_id===e.gift_id&&(i.checked=t.checked),i}))},handleAdd:function(){this.GIFT_GIFTSTORAGELIST_MUTATE(this.list.filter((function(t){return t.checked})).map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{checked:void 0,num:"",money_cost:""})}))),this.$router.go(-1)},handleGo:function(){var t=this.$route.query,e=t.sid,i=t.bid,a=t.brandname;this.$router.push({name:"add_edit_gift",query:{sid:e,bid:i,brandname:a}})}})},u=f,h=(i("6b72"),i("2877")),g=Object(h["a"])(u,a,n,!1,null,"214ec45a",null);e["default"]=g.exports},fefb:function(t,e,i){}}]);