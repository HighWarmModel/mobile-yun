(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["GraspGiftChoice"],{"026c":function(t,e,n){},"048b":function(t,e,n){"use strict";var a=n("40ec"),i=n.n(a);i.a},"2bd6":function(t,e,n){"use strict";var a=n("e5b7"),i=n.n(a);i.a},"380a":function(t,e,n){"use strict";var a=n("a0af"),i=n.n(a);i.a},3835:function(t,e,n){"use strict";function a(t){if(Array.isArray(t))return t}n.d(e,"a",(function(){return s}));n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0");function i(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],a=!0,i=!1,o=void 0;try{for(var r,s=t[Symbol.iterator]();!(a=(r=s.next()).done);a=!0)if(n.push(r.value),e&&n.length===e)break}catch(l){i=!0,o=l}finally{try{a||null==s["return"]||s["return"]()}finally{if(i)throw o}}return n}}var o=n("06c5");function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,e){return a(t)||i(t,e)||Object(o["a"])(t,e)||r()}},"40ec":function(t,e,n){},"466d":function(t,e,n){"use strict";var a=n("d784"),i=n("825a"),o=n("50c4"),r=n("1d80"),s=n("8aa5"),l=n("14c3");a("match",1,(function(t,e,n){return[function(e){var n=r(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,n):new RegExp(e)[t](String(n))},function(t){var a=n(e,t,this);if(a.done)return a.value;var r=i(t),c=String(this);if(!r.global)return l(r,c);var u=r.unicode;r.lastIndex=0;var d,f=[],h=0;while(null!==(d=l(r,c))){var m=String(d[0]);f[h]=m,""===m&&(r.lastIndex=s(c,o(r.lastIndex),u)),h++}return 0===h?null:f}]}))},"7b54":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"grasp-gift-choice"},[n("div",{staticClass:"header"},[n("HhfDropdown",{attrs:{columns:t.filterCloumn},on:{"trigger-change":t.handleChange},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("HeaderSearch",{attrs:{placeholder:"请输入礼品编号或礼品名称",filter:""},on:{"trigger-click":t.handleFilterClick,"trigger-search":t.handleSearch},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1),n("div",{staticClass:"container"},[n("van-pull-refresh",{staticStyle:{overflow:"initial"},on:{refresh:t.handleRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了",offset:10},on:{load:t.handleLoading},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[n("van-radio-group",{model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},t._l(t.columns,(function(e,a){return n("div",{key:a},[n("div",{staticClass:"flex-row flex-between-stretch bgcolor-f padding-20-30",attrs:{result:e},on:{click:function(n){return t.handleRadio(e)}}},[n("van-radio",{attrs:{disabled:e.disabled,name:e.id}}),n("div",{staticClass:"flex-1 flex-row flex-between-stretch padding-left-10"},[n("div",{staticClass:"flex-column flex-center-start"},[n("span",{staticClass:"color-393d49 size-30 weight-bold padding-bottom-20 max-width-400 text-ellipsis text-break text-justify"},[t._v(t._s(e.name))]),n("span",{staticClass:"size-28 color-454545"},[t._v("编号"+t._s(e.id))])]),n("div",{staticClass:"flex-row flex-end-center"},[n("van-tag",{attrs:{color:e.color1}},[t._v(t._s(e.colorName1))]),n("van-tag",{staticClass:"tag-content",attrs:{color:e.color2}},[t._v(t._s(e.colorName2))])],1)])],1),n("div",{staticClass:"border"})])})),0)],1)],1)],1),n("div",{staticClass:"height-100"},[n("div",{staticClass:"fixed-max-width bottom-0 size-0 zindex-2"},[n("HhfButton",{attrs:{size:"large",type:"info",radius:"0.05rem"},on:{"trigger-click":t.handleSave}},[t._v("确认")])],1)])])},i=[],o=(n("99af"),n("4de4"),n("caad"),n("d81d"),n("b0c0"),n("2532"),n("3835")),r=(n("96cf"),n("1da1")),s=n("5530"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"dropdown",staticClass:"hhf-dropdown"},[t._t("default"),n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"hhf-dropdown-mask",style:{height:t.maskHeight,top:t.maskTop},on:{click:t.handleFade}}),n("div",{ref:"anim",staticStyle:{position:"relative"}},[n("transition",{on:{"before-enter":t.beforeEnter,enter:t.enter,"after-enter":t.afterEnter,":enter-cancelled":t.enterCancelled,"before-leave":t.beforeLeave,leave:t.leave,"after-leave":t.afterLeave,"leave-cancelled":t.leaveCancelled}},[t.show?n("div",{staticClass:"hhf-dropdown-anim"},[t.$slots.dropdown?[t._t("dropdown")]:[n("ul",{staticClass:"hhf-dropdown-list"},t._l(t.columns,(function(e,a){return n("li",{key:a},[n("HhfTicketSelectionBox",{attrs:{title:e.name,value:e.checked},on:{"trigger-change":function(n){return t.handleChange({checked:n,name:e.name,value:e.value,index:a})}}}),n("div",{staticClass:"border"})],1)})),0)]],2):t._e()])],1)],2)},c=[],u=n("d50b"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hhf-ticket-selection-box",on:{click:t.handleClick}},[n("span",{staticClass:"hhf-ticket-selection-box-font",style:t.fontStyl},[t._v(t._s(t.title))]),n("div",{staticClass:"hhf-ticket",style:t.ticketStyl},[t.value?n("span",[t._v("✔")]):t._e()])])},f=[],h={name:"HhfTicketSelectionBox",components:{},model:{prop:"value",event:"trigger-change"},props:{value:{type:Boolean,default:!1},title:String,ticketColor:{type:String,default:"#1890ff"}},data:function(){return{}},computed:{fontStyl:function(){return{color:this.value?this.ticketColor:null}},ticketStyl:function(){return{color:this.ticketColor}}},mounted:function(){},methods:{handleClick:function(){this.$emit("trigger-change",!this.value)}}},m=h,p=(n("ccbd"),n("2877")),v=Object(p["a"])(m,d,f,!1,null,null,null),g=v.exports,b=g,y={name:"HhfDropdown",components:{HhfTicketSelectionBox:b},model:{prop:"show",event:"trigger-fade"},props:{show:{type:Boolean,default:!1},columns:Array},data:function(){return{maskHeight:null,maskTop:null}},computed:{},mounted:function(){var t=Object(u["b"])(this.$refs["anim"]),e=Object(u["b"])(this.$refs["anim"],this.$refs["dropdown"]);this.maskTop="".concat(e,"px"),this.maskHeight="".concat(document.documentElement.clientHeight-t,"px")},methods:{handleFade:function(){this.$emit("trigger-fade",!1)},beforeEnter:function(t){t.style.transition="all 0.5s"},enter:function(t,e){var n=t.offsetHeight;t.style.height="0px",setTimeout((function(){t.style.height="".concat(n,"px")}),1),setTimeout((function(){e()}),500)},afterEnter:function(t){t.style.height=null,t.style.transition=null},enterCancelled:function(t){t.style.height=null,t.style.transition=null},beforeLeave:function(t){t.style.transition="all 0.5s",t.style.height="".concat(t.offsetHeight,"px")},leave:function(t,e){setTimeout((function(){t.style.height="0px"}),1),setTimeout((function(){e()}),500)},afterLeave:function(t){t.style.height=null,t.style.transition=null},leaveCancelled:function(t){t.style.height=null,t.style.transition=null},handleChange:function(t){var e=t.name,n=t.index,a=t.value,i=t.checked;this.$emit("trigger-change",{name:e,index:n,value:a,checked:i})}}},C=y,x=(n("b9f8"),Object(p["a"])(C,l,c,!1,null,null,null)),k=x.exports,w=k,S=n("de0f"),_=n("d239"),j=n("2f62"),O=n("b279"),E=n("365c"),T={name:"GraspGiftChoice",components:{HeaderSearch:_["a"],HhfDropdown:w,HhfButton:S["a"]},data:function(){return{show:!1,filterCloumn:[{name:"全部",value:"0",checked:!1},{name:"需配置",value:"1",checked:!1},{name:"自采购",value:"2",checked:!1}],columns:[],isLoading:!1,loading:!1,finished:!1,radio:"",name:"",status:"0",limit:20,page:1}},computed:Object(s["a"])({},Object(j["d"])({cachePageList:function(t){return t.app.cachePageList}})),created:function(){this.cachePageList.includes("GraspEquipmentChoice")||(this.finished=!0,this.$router.push({name:"GraspEquipmentChoice"}))},methods:Object(s["a"])(Object(s["a"])({},Object(j["c"])(["INTELLIGENTGRASP_EDITGIFTINFOSELECTED_MUTATE"])),{},{handleSave:function(){var t=this,e=this.columns.filter((function(e){return t.radio===e.id}))[0]||{};this.INTELLIGENTGRASP_EDITGIFTINFOSELECTED_MUTATE(e),e.id&&this.$router.push({name:"GraspEquipmentChoice"})},handleRadio:function(t){t.disabled||(this.radio=t.id)},handleChange:function(t){var e=t.value;this.filterCloumn=this.filterCloumn.map((function(t){var n=Object(s["a"])({},t);return n.checked=n.value===e||!1,n})),this.show=!1,this.status=e,this.page=1,this.columns=[],this.handleLoading()},handleFilterClick:function(){this.show=!this.show},handleSearch:function(){this.handleRefresh()},getGraspGiftList:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,a,i,r,s,l,c,u,d,f,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$Loading({message:"加载中..."}),n=t.$route.query.sid,a=t.page,i=t.status,r=t.limit,s=t.name,e.next=5,Object(O["a"])(E["y"],{store_id:n,page:a,status:i,limit:r,name:s});case 5:if(l=e.sent,c=Object(o["a"])(l,2),u=c[0],d=c[1],t.$Loading.clear(),!u){e.next=12;break}return e.abrupt("return",[]);case 12:return"0"===d.return_code?(f=d.data,h=f.map((function(t){var e={name:t.name,id:t.id};return"0"===t.brand_id?(e.color1="#03a9f4",e.colorName1="平台","0"===t.is_platform&&(e.disabled=!0)):(e.colorName1="自采",e.color1="#ff9800"),"0"===t.critical_value?(e.colorName2="待配置",e.color2="#f44336"):(e.colorName2="已配置",e.color2="#8bc34a"),e})),t.columns=t.columns.concat(h)):d.msg&&t.$Tip.warning(d.msg),e.abrupt("return",d.data);case 14:case"end":return e.stop()}}),e)})))()},handleRefresh:function(){var t=this;this.columns=[],this.page=1,this.finished=!0,this.handleLoading(null,"fresh").then((function(){t.isLoading=!1}))},handleLoading:function(){var t=this;return this.getGraspGiftList().then((function(e){t.page+=1,t.loading=!1,!e||0===e.length||e.length<t.limit?t.finished=!0:t.finished=!1}))}})},I=T,L=(n("2bd6"),Object(p["a"])(I,a,i,!1,null,"448e77e5",null));e["default"]=L.exports},a0af:function(t,e,n){},b02b:function(t,e,n){},b4ee:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{class:t.wrapClasses,style:t.styles,on:{click:t.handleClick}})},i=[],o=(n("99af"),n("b0c0"),n("d3b7"),n("ac1f"),n("25f0"),n("1276"),n("2909")),r={name:"HhfIcon",components:{},props:{classes:[Array,String],styles:Object,name:{type:String,required:!0}},data:function(){return{}},computed:{wrapClasses:function(){var t=["hhf-icon","hhf-iconfont","hhf-icon-".concat(this.name)];if("[object Array]"===Object.prototype.toString.call(this.classes))t=[].concat(Object(o["a"])(t),Object(o["a"])(this.classes));else if("string"===typeof this.classes){var e=this.classes.split(" ");t=[].concat(Object(o["a"])(t),Object(o["a"])(e))}return t}},mounted:function(){},methods:{handleClick:function(){this.$emit("trigger-click")}}},s=r,l=n("2877"),c=Object(l["a"])(s,a,i,!1,null,"0e833f38",null),u=c.exports;e["a"]=u},b9f8:function(t,e,n){"use strict";var a=n("b02b"),i=n.n(a);i.a},ccbd:function(t,e,n){"use strict";var a=n("026c"),i=n.n(a);i.a},d239:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex-row flex-between-center bgcolor-f2 header-search"},[n("form",{staticClass:"flex-1",attrs:{action:"javascript:return true"}},[n("van-search",{staticClass:"header-search-content",attrs:{value:t.value,placeholder:t.placeholder,background:"#f2f2f2"},on:{input:t.handleInput,search:t.handleSearch}})],1),t.filter?n("div",{staticClass:"header-search-filter color-2f4056"},[n("van-icon",{attrs:{name:"filter-o"},on:{click:t.handleClick}})],1):t._e()])},i=[],o={name:"HeaderSearch",components:{},model:{event:"trigger-input"},props:{value:{default:""},filter:{type:Boolean,default:!1},status:{type:Boolean,default:!1},placeholder:String},data:function(){return{}},mounted:function(){},methods:{handleSearch:function(){this.$emit("trigger-search",this.value)},handleInput:function(t){this.$emit("trigger-input",t)},handleClick:function(){this.$emit("trigger-click")}}},r=o,s=(n("380a"),n("2877")),l=Object(s["a"])(r,a,i,!1,null,null,null),c=l.exports;e["a"]=c},d50b:function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));n("99af"),n("4de4"),n("caad"),n("fb6a"),n("d3b7"),n("ac1f"),n("25f0"),n("2532"),n("466d"),n("2909");function a(t){return/^[0-9]+$/.test(t)}function i(t,e){e=e||document.documentElement||document.body;var n=t.offsetParent,a=t.offsetTop;return n===e||null===n?a:a+i(n,e)}function o(t){var e,n,a,i=t.callback,o=t.wait,r=void 0===o?200:o,s=t.immediate,l=void 0!==s&&s,c=function(){return setTimeout((function(){n=null,i.apply(a,e),a=e=null}),r)};return function(){e=arguments,a=this,!n&&l?(n=c(),i.apply(a,e),a=e=null):(clearTimeout(n),n=c())}}},de0f:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["size-0",t.getBottomZIndexCls]},[n("div",{class:t.wrapClasses,style:t.wrapStyles,on:{click:t.handleClick}},[n("div",{staticClass:"hhf-button-container flex-row flex-center"},[!t.$slots.loading&&t.loading?[n("div",{staticClass:"hhf-button-loading-container"},[n("div",{staticClass:"hhf-button-loading-content"},[n("HhfIcon",{attrs:{name:"spinner-loading"}})],1)])]:t.loading?[t._t("loading")]:t._e(),t._t("default")],2)])])},i=[],o=(n("99af"),n("caad"),n("a9e3"),n("d3b7"),n("ac1f"),n("25f0"),n("1276"),n("5530")),r=n("b4ee"),s={name:"",components:{HhfIcon:r["a"]},props:{disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingText:{type:String,default:"加载中…"},text:{type:String,default:"确定"},bottomZIndex:{type:Number},radius:String,activeColor:Object,plain:Boolean,type:{type:String,default:"default",validator:function(t){return["default","primary","success","info","warning","danger"].includes(t)}},size:{type:String,default:"normal",validator:function(t){return["normal","large","small","mini","custom"].includes(t)}},classes:[String,Array],styles:Object},data:function(){return{}},computed:{getBottomZIndexCls:function(){return this.bottomZIndex?"hhf-button-".concat(this.size,"-height"):null},wrapClasses:function(){var t=this.classes,e=this.size,n=this.type,a=this.plain,i=this.loading,o=this.disabled,r=this.bottomZIndex,s=["hhf-button","hhf-button-".concat(n),"hhf-button-".concat(e),r?"hhf-button-".concat(e,"-fixed"):null];if("[object Array]"===Object.prototype.toString.call(t))s=s.concat(t);else if("string"===typeof t){var l=t.split(" ");s=s.concat(l)}return a&&s.push("hhf-button-plain"),i&&s.push("hhf-button-loading"),o&&s.push("hhf-button-disabled"),s},wrapStyles:function(){var t=this.styles,e=this.radius,n=this.bottomZIndex,a=Object(o["a"])(Object(o["a"])({},t),{},{borderRadius:e,zIndex:n});return a}},mounted:function(){},methods:{handleClick:function(){var t=this.loading,e=this.disabled;t||e||this.$emit("trigger-click")}}},l=s,c=(n("048b"),n("2877")),u=Object(c["a"])(l,a,i,!1,null,null,null),d=u.exports;e["a"]=d},e5b7:function(t,e,n){}}]);