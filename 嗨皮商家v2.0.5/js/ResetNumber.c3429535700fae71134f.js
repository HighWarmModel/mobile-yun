(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ResetNumber"],{"048b":function(t,e,n){"use strict";var a=n("40ec"),i=n.n(a);i.a},"097b":function(t,e,n){"use strict";var a=n("21f1"),i=n.n(a);i.a},"21f1":function(t,e,n){},"40ec":function(t,e,n){},"48d0":function(t,e,n){"use strict";var a=n("9d6c"),i=n.n(a);i.a},"492f":function(t,e,n){"use strict";n("caad"),n("a9e3");var a,i,s=n("5530"),o=n("5cc0"),r=n("2f62"),l={name:"MyMachine",components:{LinkageSelection:o["a"]},model:{prop:"value",event:"trigger-change"},props:{storeId:[String,Number],areaId:[String,Number],value:{default:function(){return{}}},title:{type:String,default:"请选择机台"},type:{type:String,default:"MACHINE",validator:function(t){return["MACHINE","MACHINE_TYPE"].includes(t)}},rightIcon:{type:String,default:"arrow"},columns:Array},data:function(){return{list:[]}},watch:{areaId:{handler:function(t){var e=this.storeId,n=this.type;if(e&&t){var a={storeId:e,areaId:t};if("MACHINE_TYPE"===n)return void this.COMMON_GETMACHINETYPE_ACTION(a).then(this.handleReturnDeal);this.COMMON_GETMACHINE_ACTION(a).then(this.handleReturnDeal)}else this.list=[],this.$emit("trigger-change",{})},immediate:!0}},methods:Object(s["a"])(Object(s["a"])({},Object(r["b"])(["COMMON_GETMACHINE_ACTION","COMMON_GETMACHINETYPE_ACTION"])),{},{handleChoseMachine:function(t){this.$emit("trigger-change",t.value)},handleReturnDeal:function(t){if("0"===t.return_code){var e=t.data;this.list=e,this.$emit("trigger-change",{})}}}),render:function(){for(var t,e=arguments[0],n=this.value,a=this.list,i=this.handleChoseMachine,s=this.title,r=this.rightIcon,l=0,c=0;c<a.length;++c)if(a[c].id===n.id){t=a[c].no,l=c;break}return e(o["a"],{attrs:{"right-icon":r,title:s,value:t,columns:a,"default-index":l},on:{"trigger-confirm":i}})}},c=l,u=n("2877"),d=Object(u["a"])(c,a,i,!1,null,null,null),h=d.exports;e["a"]=h},5594:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bottom-popup"},[n("van-popup",{attrs:{position:"bottom","close-on-click-overlay":t.maskClose,overlay:t.overlay},on:{"click-overlay":t.handleClose},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("van-picker",{attrs:{"show-toolbar":"",columns:t.columns,"default-index":t.defaultIndex},on:{change:t.handleChange,cancel:t.handleCancel,confirm:t.handleConfirm}})],1)],1)},i=[],s=(n("a9e3"),{name:"BottomPopup",components:{},props:{maskClose:{type:Boolean,default:!1},columns:{default:function(){return[]},type:Array},overlay:{default:!0,type:Boolean},show:{default:!1,type:Boolean},defaultIndex:Number},data:function(){return{loading:!0}},computed:{},watch:{columns:{handler:function(){this.loading=!1}}},mounted:function(){},methods:{handleCancel:function(){this.$emit("trigger-cancel"),this.handleClose()},handleConfirm:function(t,e){this.$emit("trigger-confirm",{value:t,index:e}),this.handleClose()},handleClose:function(){this.$emit("trigger-close")},handleChange:function(){}}}),o=s,r=n("2877"),l=Object(r["a"])(o,a,i,!1,null,"2f72655a",null),c=l.exports;e["a"]=c},"5a66":function(t,e,n){},"5cc0":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("CellList",{attrs:{title:t.title,value:t.value,"right-icon":t.rightIcon,placeholder:t.placeholder},on:{"trigger-click":function(e){t.show=!0}},scopedSlots:t._u([t.$slots.title?{key:"title",fn:function(){return[t._t("title")]},proxy:!0}:null,t.$slots["right-icon"]?{key:"right-icon",fn:function(){return[t._t("right-icon")]},proxy:!0}:null],null,!0)}),n("BottomPopup",{attrs:{columns:t.columns,"default-index":t.defaultIndex,show:t.show},on:{"trigger-confirm":t.handleConfirm,"trigger-close":function(e){t.show=!1}}})],1)},i=[],s=(n("a9e3"),n("a5ab")),o=n("5594"),r={name:"LinkageSelection",components:{CellList:s["a"],BottomPopup:o["a"]},model:{prop:"value",event:"trigger-confirm"},props:{value:{default:""},defaultIndex:Number,disabled:{type:Boolean,default:!1},title:String,placeholder:String,columns:Array,rightIcon:{type:String}},data:function(){return{show:!1}},computed:{},mounted:function(){},methods:{handleConfirm:function(t){this.disabled||this.$emit("trigger-confirm",t)}}},l=r,c=n("2877"),u=Object(c["a"])(l,a,i,!1,null,"673b6974",null),d=u.exports;e["a"]=d},"9d6c":function(t,e,n){},a5ab:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cell-list flex-row flex-between-center padding-20-30",on:{click:t.handleClick}},[n("div",{staticClass:"cell-list-title size-28 color-3"},[t._v(" "+t._s(t.$slots["title"]?null:t.title)+" "),t._t("title")],2),n("div",{staticClass:"size-28 flex-row flex-start-center"},[t.value?n("span",[t._v(t._s(t.value))]):n("span",{staticClass:"cell-list-placeholder"},[t._v(t._s(t.placeholder))]),t.rightIcon?n("van-icon",{staticClass:"flex-row flex-center margin-left-10 size-32",attrs:{color:"#969799",name:t.rightIcon}}):t._e(),t._t("rigth-icon")],2)])},i=[],s={name:"CellList",components:{},props:{title:String,value:String,placeholder:String,leftIcon:{type:Boolean,default:!1},rightIcon:{type:String}},data:function(){return{}},computed:{},mounted:function(){},methods:{handleClick:function(t){this.$emit("trigger-click",t)}}},o=s,r=(n("097b"),n("2877")),l=Object(r["a"])(o,a,i,!1,null,null,null),c=l.exports;e["a"]=c},a8aa:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"my-store"},[n("div",{staticClass:"my-store-container size-32 flex-row flex-start-center"},[n("div",{on:{click:t.handleClick}},[n("span",{staticClass:"my-store-name color-393D49"},[t._v(t._s(t.store.store_name))]),n("van-icon",{staticClass:"color-de",attrs:{name:t.arrow}})],1),t._t("default")],2),n("div",{staticClass:"border"}),n("div",[n("BottomPopup",{attrs:{columns:t.columns,"default-index":t.selectIndex,show:t.show},on:{"trigger-confirm":t.handleConfirm,"trigger-close":t.handleClose}})],1)])},i=[],s=(n("4de4"),n("d81d"),n("a9e3"),n("5530")),o=n("5594"),r=n("2f62"),l={name:"MyStore",components:{BottomPopup:o["a"]},props:{open:{default:!1,type:Boolean},defaultIndex:Number,storeId:[String,Number]},data:function(){return{show:!1,store:{store_name:"请选择门店"},selectIndex:null}},computed:Object(s["a"])(Object(s["a"])({},Object(r["d"])({storeList:function(t){return t.common.storeList}})),{},{columns:{get:function(){var t=this.storeList;return t.map((function(t){var e=Object(s["a"])({text:t.store_name},t);return e}))}},arrow:function(){return this.show?"arrow-up":"arrow-down"}}),watch:{storeList:{handler:function(t){var e=this.storeId,n=this.defaultIndex;if(t.length>0){if(e&&e>=0){var a=t.map((function(t,e){return Object(s["a"])(Object(s["a"])({},t),{},{index:e})})).filter((function(t){return t.store_id===String(e)}));if(a.length>0){var i=a[0];this.selectIndex=i.index,this.store=Object(s["a"])({},i)}}else n>=0&&(this.selectIndex=n,this.store=Object(s["a"])({},t[0]));(n>=0||e>=0)&&this.$emit("trigger-click",{value:Object(s["a"])(Object(s["a"])({},this.store),{},{index:this.selectIndex})})}},immediate:!0}},created:function(){0===this.storeList.length&&this.getStore()},methods:Object(s["a"])(Object(s["a"])({},Object(r["b"])(["COMMON_GETSTORE_ACTION"])),{},{handleClick:function(){this.show=!0},handleConfirm:function(t){var e=t.value,n=t.index;this.store=Object(s["a"])({},e),this.$emit("trigger-click",{value:e,index:n})},handleClose:function(){this.show=!1},getStore:function(){var t=this;this.COMMON_GETSTORE_ACTION().then((function(e){"0"!==e.return_code&&t.$Tip.warning(e.msg)}))}})},c=l,u=(n("48d0"),n("2877")),d=Object(u["a"])(c,a,i,!1,null,"de8e6c12",null),h=d.exports;e["a"]=h},aa1d:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"reset-number"},[n("div",{staticClass:"header bgcolor-f"},[n("MyStore",{attrs:{"store-id":t.storeId},on:{"trigger-click":t.handleConfirm}},[n("div",{staticClass:"flex-row flex-end-center flex-1"},[n("van-icon",{attrs:{name:"question-o",size:"0.4rem"},on:{click:t.handleRouter}})],1)])],1),n("div",{staticClass:"bgcolor-f content"},[n("h5",{staticClass:"margin-0 padding-20-30 size-30"},[t._v("我的机台")]),n("div",{staticClass:"border"}),n("MyArea",{attrs:{"store-id":t.storeId},model:{value:t.area,callback:function(e){t.area=e},expression:"area"}}),n("div",{staticClass:"border"}),n("MyMachine",{attrs:{"store-id":t.storeId,"area-id":t.area.id},model:{value:t.machine,callback:function(e){t.machine=e},expression:"machine"}})],1),t.machine.id?n("div",{staticClass:"fixed-max-width bottom-0"},[n("p",{staticClass:"size-28 reset-number-tip"},[t._v(" 重置局数操作会清除之前累积的游玩统计，即从0开始重新计算中奖局数 ")]),n("div",{staticClass:"text-center"},[n("HhfButton",{attrs:{loading:t.loading,type:"info",size:"large"},on:{"trigger-click":t.handleReset}},[t._v("重置")])],1)]):t._e()])},i=[],s=n("a8aa"),o=n("f059"),r=n("492f"),l=n("de0f"),c=n("365c"),u={name:"ResetNumber",components:{MyStore:s["a"],MyArea:o["a"],MyMachine:r["a"],HhfButton:l["a"]},data:function(){return{loading:!1,checked:!0,areaColumns:[],storeId:null,area:{},machine:{},result:["a"],machineColumns:[]}},computed:{},created:function(){var t=this.$route.query,e=t.sid,n=t.mid,a=t.aid;e&&(this.storeId=e),e&&a&&(this.area.id=a),e&&a&&n&&(this.machine.id=n)},mounted:function(){},methods:{handleConfirm:function(t){this.storeId=t.value.store_id},handleRouter:function(){},handleReset:function(){var t=this;this.loading=!0,Object(c["cb"])({machine_id:this.machine.id,type:6}).then((function(e){t.loading=!1,"0"===e.return_code?t.$Tip({type:"success",message:e.msg,mask:!0,maskPacity:0}):e.return_code?t.$Tip({type:"warning",message:e.msg,mask:!0,maskPacity:0}):t.$Tip({type:"error",message:e.msg,mask:!0,maskPacity:0})}))}}},d=u,h=(n("ce6d"),n("2877")),f=Object(h["a"])(d,a,i,!1,null,"46ec3b92",null);e["default"]=f.exports},b4ee:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{class:t.wrapClasses,style:t.styles,on:{click:t.handleClick}})},i=[],s=(n("99af"),n("b0c0"),n("d3b7"),n("ac1f"),n("25f0"),n("1276"),n("2909")),o={name:"HhfIcon",components:{},props:{classes:[Array,String],styles:Object,name:{type:String,required:!0}},data:function(){return{}},computed:{wrapClasses:function(){var t=["hhf-icon","hhf-iconfont","hhf-icon-".concat(this.name)];if("[object Array]"===Object.prototype.toString.call(this.classes))t=[].concat(Object(s["a"])(t),Object(s["a"])(this.classes));else if("string"===typeof this.classes){var e=this.classes.split(" ");t=[].concat(Object(s["a"])(t),Object(s["a"])(e))}return t}},mounted:function(){},methods:{handleClick:function(){this.$emit("trigger-click")}}},r=o,l=n("2877"),c=Object(l["a"])(r,a,i,!1,null,"0e833f38",null),u=c.exports;e["a"]=u},ce6d:function(t,e,n){"use strict";var a=n("5a66"),i=n.n(a);i.a},de0f:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["size-0",t.getBottomZIndexCls]},[n("div",{class:t.wrapClasses,style:t.wrapStyles,on:{click:t.handleClick}},[n("div",{staticClass:"hhf-button-container flex-row flex-center"},[!t.$slots.loading&&t.loading?[n("div",{staticClass:"hhf-button-loading-container"},[n("div",{staticClass:"hhf-button-loading-content"},[n("HhfIcon",{attrs:{name:"spinner-loading"}})],1)])]:t.loading?[t._t("loading")]:t._e(),t._t("default")],2)])])},i=[],s=(n("99af"),n("caad"),n("a9e3"),n("d3b7"),n("ac1f"),n("25f0"),n("1276"),n("5530")),o=n("b4ee"),r={name:"",components:{HhfIcon:o["a"]},props:{disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingText:{type:String,default:"加载中…"},text:{type:String,default:"确定"},bottomZIndex:{type:Number},radius:String,activeColor:Object,plain:Boolean,type:{type:String,default:"default",validator:function(t){return["default","primary","success","info","warning","danger"].includes(t)}},size:{type:String,default:"normal",validator:function(t){return["normal","large","small","mini","custom"].includes(t)}},classes:[String,Array],styles:Object},data:function(){return{}},computed:{getBottomZIndexCls:function(){return this.bottomZIndex?"hhf-button-".concat(this.size,"-height"):null},wrapClasses:function(){var t=this.classes,e=this.size,n=this.type,a=this.plain,i=this.loading,s=this.disabled,o=this.bottomZIndex,r=["hhf-button","hhf-button-".concat(n),"hhf-button-".concat(e),o?"hhf-button-".concat(e,"-fixed"):null];if("[object Array]"===Object.prototype.toString.call(t))r=r.concat(t);else if("string"===typeof t){var l=t.split(" ");r=r.concat(l)}return a&&r.push("hhf-button-plain"),i&&r.push("hhf-button-loading"),s&&r.push("hhf-button-disabled"),r},wrapStyles:function(){var t=this.styles,e=this.radius,n=this.bottomZIndex,a=Object(s["a"])(Object(s["a"])({},t),{},{borderRadius:e,zIndex:n});return a}},mounted:function(){},methods:{handleClick:function(){var t=this.loading,e=this.disabled;t||e||this.$emit("trigger-click")}}},l=r,c=(n("048b"),n("2877")),u=Object(c["a"])(l,a,i,!1,null,null,null),d=u.exports;e["a"]=d},f059:function(t,e,n){"use strict";n("b0c0");var a,i,s=n("5530"),o=n("5cc0"),r=n("2f62"),l={name:"MyArea",components:{LinkageSelection:o["a"]},model:{prop:"value",event:"trigger-change"},props:{storeId:String,value:{default:function(){return{}}},title:{type:String,default:"请选择区域"},rightIcon:{type:String,default:"arrow"},columns:Array},data:function(){return{list:[]}},watch:{storeId:{handler:function(t){var e=this;t&&this.COMMON_GETAREA_ACTION({storeId:t}).then((function(t){"0"===t.return_code&&(e.list=t.data,e.$emit("trigger-change",{}))}))},immediate:!0}},methods:Object(s["a"])(Object(s["a"])({},Object(r["b"])(["COMMON_GETAREA_ACTION"])),{},{handleChoseArea:function(t){this.$emit("trigger-change",t.value)}}),render:function(){for(var t,e=arguments[0],n=this.value,a=this.list,i=this.handleChoseArea,s=this.title,r=this.rightIcon,l=0,c=0;c<a.length;++c)if(a[c].id===n.id){t=a[c].name,l=c;break}return e(o["a"],{attrs:{"right-icon":r,title:s,value:t,columns:a,"default-index":l},on:{"trigger-confirm":i}})}},c=l,u=n("2877"),d=Object(u["a"])(c,a,i,!1,null,"1953f11e",null),h=d.exports;e["a"]=h}}]);