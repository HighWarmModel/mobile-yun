(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["InventoryDetail"],{"048b":function(t,e,s){"use strict";var n=s("40ec"),i=s.n(n);i.a},"40ec":function(t,e,s){},"4f25":function(t,e,s){"use strict";var n=s("5250"),i=s.n(n);i.a},5250:function(t,e,s){},b4ee:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{class:t.wrapClasses,style:t.styles,on:{click:t.handleClick}})},i=[],a=(s("99af"),s("b0c0"),s("d3b7"),s("ac1f"),s("25f0"),s("1276"),s("2909")),r={name:"HhfIcon",components:{},props:{classes:[Array,String],styles:Object,name:{type:String,required:!0}},data:function(){return{}},computed:{wrapClasses:function(){var t=["hhf-icon","hhf-iconfont","hhf-icon-".concat(this.name)];if("[object Array]"===Object.prototype.toString.call(this.classes))t=[].concat(Object(a["a"])(t),Object(a["a"])(this.classes));else if("string"===typeof this.classes){var e=this.classes.split(" ");t=[].concat(Object(a["a"])(t),Object(a["a"])(e))}return t}},mounted:function(){},methods:{handleClick:function(){this.$emit("trigger-click")}}},o=r,l=s("2877"),c=Object(l["a"])(o,n,i,!1,null,"0e833f38",null),d=c.exports;e["a"]=d},b97f:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"inventory-detail"},[s("ul",{staticClass:"flex-row flex-between-center bgcolor-f padding-20-30"},[s("li",{staticClass:"color-393d49 size-28"},[t._v("订单号："+t._s(t.result.order_id))]),s("li",{class:["size-24",t.getColor(t.result.status)]},[t._v(" "+t._s(t.status[t.result.status])+" ")])]),s("div",{staticClass:"margin-top-20 bgcolor-f"},[[s("van-cell",{attrs:{title:"盘点列表","is-link":"",value:"查看全部"},on:{click:function(e){return t.$router.push({name:"inventory_gift_list",query:{id:t.result.inventory_id,sid:t.result.store_id}})}}}),s("div",{staticClass:"border"})],t._l(t.result.gift_list,(function(e){return s("div",{key:e.gift_id},[s("div",{staticClass:"flex-row flex-between-center padding-20-30"},[s("div",{staticClass:"flex-column flex-center-start color-393d49"},[s("span",{staticClass:"size-30 padding-bottom-20"},[t._v(t._s(e.gift_name))]),s("span",{staticClass:"size-24"},[t._v("编号"+t._s(e.gift_id))])]),s("div",{staticClass:"size-24"},[e.num-e.sys_num>0?s("span",{staticClass:"color-success"},[t._v("+"+t._s(e.num-e.sys_num))]):s("span",{staticClass:"color-error"},[t._v(t._s(e.num-e.sys_num))])])]),s("div",{staticClass:"border"})])})),s("div",{staticClass:"text-right size-28 color-393d49 padding-20-30"},[t._v(" 盘盈"),s("i",{staticClass:"color-success"},[t._v(t._s(t.result.profit_num))]),t._v("个，盘亏"),s("i",{staticClass:"color-error"},[t._v(t._s(t.result.deficit_num))]),t._v("个 ")])],2),s("div",{staticClass:"margin-top-20 bgcolor-f"},[s("h5",{staticClass:"size-28 color-393d49 padding-20-30 margin-0"},[t._v("申请信息")]),s("div",{staticClass:"border"}),s("div",{staticClass:"flex-row flex-between-center size-28 color-393d49 padding-20-30"},[s("span",[t._v("申请人："+t._s(t.result.c_name)+"（"+t._s(t.result.c_phone)+"）")]),s("span",[t._v(t._s(t.getTime(t.result.create_time)))])])]),t.result.audit_time>0?s("div",{staticClass:"margin-top-20 bgcolor-f"},[s("h5",{staticClass:"size-28 color-393d49 padding-20-30 margin-0"},[t._v("审核说明")]),s("div",{staticClass:"border"}),s("div",{staticClass:"size-28 color-393d49 padding-20-30"},[t._v(" 商家承担￥"+t._s(t.result.money)+" ")]),s("div",{staticClass:"border"}),s("p",{staticClass:"size-28 color-393d49 padding-20-30 margin-0"},[t._v(" "+t._s(t.result.remark)+" ")]),s("div",{staticClass:"border"}),s("div",{staticClass:"flex-row flex-between-center size-28 color-393d49 padding-20-30"},[s("span",[t._v("审核人："+t._s(t.result.user_name)+"（"+t._s(t.result.phone)+"）")]),s("span",[t._v(t._s(t.getTime(t.result.audit_time)))])])]):t._e(),"5"===t.result.status?s("div",{staticClass:"inventory-detail-btn"},[s("div",{staticClass:"inventory-detail-btn-container"},[s("HhfButton",{attrs:{type:"info",size:"large",loading:t.loading},on:{"trigger-click":t.handleCreate}},[t._v("重新开始盘点")])],1)]):t._e()])},i=[],a=s("de0f"),r=s("365c"),o=s("5171"),l=s("c32d"),c=s.n(l),d={name:"InventoryDetail",components:{HhfButton:a["a"]},data:function(){return{result:{},loading:!1,status:o["k"]}},computed:{},created:function(){this.getInventoryDetail()},mounted:function(){},methods:{getTime:function(t){return c()(1e3*t).format("YYYY-MM-DD HH:mm:ss")},getColor:function(t){switch(t){case"4":return"color-success";case"6":return"color-c";default:return"color-error"}},getInventoryDetail:function(){var t=this,e=this.$route.query,s=e.id,n=e.sid;Object(r["z"])({store_id:n,inventory_id:s}).then((function(e){"0"===e.return_code?t.result=e.data:e.msg&&t.$Tip.warning({message:e.msg})}))},handleCreate:function(){var t=this;this.loading=!0;var e=this.result.store_id;Object(r["g"])({store_id:e}).then((function(s){t.loading=!1,"0"===s.return_code?t.$router.push({name:"inventorying",query:{id:s.data,sid:e}}):s.return_code&&t.$Tip.warning({mask:!0,message:s.msg})}))}}},u=d,f=(s("4f25"),s("2877")),h=Object(f["a"])(u,n,i,!1,null,"5a22ceb4",null);e["default"]=h.exports},de0f:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["size-0",t.getBottomZIndexCls]},[s("div",{class:t.wrapClasses,style:t.wrapStyles,on:{click:t.handleClick}},[s("div",{staticClass:"hhf-button-container flex-row flex-center"},[!t.$slots.loading&&t.loading?[s("div",{staticClass:"hhf-button-loading-container"},[s("div",{staticClass:"hhf-button-loading-content"},[s("HhfIcon",{attrs:{name:"spinner-loading"}})],1)])]:t.loading?[t._t("loading")]:t._e(),t._t("default")],2)])])},i=[],a=(s("99af"),s("caad"),s("a9e3"),s("d3b7"),s("ac1f"),s("25f0"),s("1276"),s("5530")),r=s("b4ee"),o={name:"",components:{HhfIcon:r["a"]},props:{disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingText:{type:String,default:"加载中…"},text:{type:String,default:"确定"},bottomZIndex:{type:Number},radius:String,activeColor:Object,plain:Boolean,type:{type:String,default:"default",validator:function(t){return["default","primary","success","info","warning","danger"].includes(t)}},size:{type:String,default:"normal",validator:function(t){return["normal","large","small","mini","custom"].includes(t)}},classes:[String,Array],styles:Object},data:function(){return{}},computed:{getBottomZIndexCls:function(){return this.bottomZIndex?"hhf-button-".concat(this.size,"-height"):null},wrapClasses:function(){var t=this.classes,e=this.size,s=this.type,n=this.plain,i=this.loading,a=this.disabled,r=this.bottomZIndex,o=["hhf-button","hhf-button-".concat(s),"hhf-button-".concat(e),r?"hhf-button-".concat(e,"-fixed"):null];if("[object Array]"===Object.prototype.toString.call(t))o=o.concat(t);else if("string"===typeof t){var l=t.split(" ");o=o.concat(l)}return n&&o.push("hhf-button-plain"),i&&o.push("hhf-button-loading"),a&&o.push("hhf-button-disabled"),o},wrapStyles:function(){var t=this.styles,e=this.radius,s=this.bottomZIndex,n=Object(a["a"])(Object(a["a"])({},t),{},{borderRadius:e,zIndex:s});return n}},mounted:function(){},methods:{handleClick:function(){var t=this.loading,e=this.disabled;t||e||this.$emit("trigger-click")}}},l=o,c=(s("048b"),s("2877")),d=Object(c["a"])(l,n,i,!1,null,null,null),u=d.exports;e["a"]=u}}]);