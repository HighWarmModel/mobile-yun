(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["GiftStorageRecord"],{"048b":function(t,e,i){"use strict";var n=i("40ec"),a=i.n(n);a.a},1148:function(t,e,i){"use strict";var n=i("a691"),a=i("1d80");t.exports="".repeat||function(t){var e=String(a(this)),i="",s=n(t);if(s<0||s==1/0)throw RangeError("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(e+=e))1&s&&(i+=e);return i}},33910:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"gift-storage-record"},[i("div",{staticClass:"gift-storage-record-header"},[i("div",{staticClass:"fixed-max-width top-0"},[i("HeaderSearch",{attrs:{placeholder:"请输入礼品名称或编号"},on:{"trigger-search":t.handleSearch},model:{value:t.giftId,callback:function(e){t.giftId=e},expression:"giftId"}})],1)]),i("van-pull-refresh",{staticStyle:{overflow:"initial"},on:{refresh:t.handleRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[i("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了",offset:10},on:{load:t.handleLoading},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(e,n){return i("div",{key:n},[i("div",{staticClass:"flex-row flex-between-center size-28 bgcolor-f padding-20-30"},[i("span",[t._v(t._s(t.getDateTime(e.create_time)))]),i("span",[t._v(t._s(e.store_name))])]),i("div",{staticClass:"border"}),i("GiftList",{attrs:{result:e}},[i("div",{staticClass:"flex-column flex-center"},[i("span",{staticClass:"padding-bottom-20"},[t._v("￥"+t._s(t.getDecimal(e.money_cost)))]),i("span",[t._v("×"+t._s(e.num))])])]),i("div",{staticClass:"border"})],1)})),0)],1),i("div",{staticClass:"height-100"},[i("div",{staticClass:"fixed-max-width bottom-0 size-0 zindex-2"},[i("HhfButton",{attrs:{type:"info",size:"large"},on:{"trigger-click":function(e){return t.$router.push({name:"add_gift_storage"})}}},[t._v("新增礼品入库")])],1)])],1)},a=[],s=(i("99af"),i("b680"),i("d239")),r=i("de0f"),c=i("6ac7"),o=i("c32d"),l=i.n(o),f=i("365c"),u={name:"GiftStorageRecord",components:{HeaderSearch:s["a"],HhfButton:r["a"],GiftList:c["a"]},data:function(){return{isLoading:!1,loading:!1,finished:!0,page:1,giftId:"",list:[]}},computed:{},created:function(){var t=this.handleLoading;t()},mounted:function(){},methods:{getDateTime:function(t){return l()(1e3*t).format("YYYY-MM-DD HH:mm:ss")},getDecimal:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return t=t||0,(t-0).toFixed(e)},handleSearch:function(){var t=this;this.page=1,this.getGiftStorageRecord((function(e){t.list=e}))},getGiftStorageRecord:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},i=this.page,n=this.giftId;Object(f["x"])({gift_id:n,page:i}).then((function(n){var a=[];"0"===n.return_code?(t.page=++i,a=n.data):n.msg&&t.$Tip.warning({message:n.msg,mask:!0}),t.finished=0===a.length,e(a)}))},handleRefresh:function(){var t=this;this.page=1,this.getGiftStorageRecord((function(e){t.list=e,t.isLoading=!1}))},handleLoading:function(){var t=this;this.getGiftStorageRecord((function(e){t.list=t.list.concat(e),t.loading=!1}))}}},d=u,h=(i("69ea"),i("2877")),g=Object(h["a"])(d,n,a,!1,null,"fe862d94",null);e["default"]=g.exports},"380a":function(t,e,i){"use strict";var n=i("a0af"),a=i.n(n);a.a},"408a":function(t,e,i){var n=i("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=n(t))throw TypeError("Incorrect invocation");return+t}},"40ec":function(t,e,i){},"69ea":function(t,e,i){"use strict";var n=i("878a"),a=i.n(n);a.a},"6ac7":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex-row flex-between-stretch size-28 color-393d49 gift-list bgcolor-f",on:{click:function(e){return t.handleClick(t.result)}}},[void 0!==t.checked?i("div",{staticClass:"gift-list-check flex-row flex-center"},[i("van-checkbox",{attrs:{name:t.result.gift_id},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}})],1):t._e(),i("div",{staticClass:"flex-1 flex-row flex-between-stretch"},[i("div",{staticClass:"flex-row flex-start-stretch"},[t.result.thumb||t.result.gift_img?i("div",{staticClass:"gift-list-img bgcolor-f2 flex-row flex-center"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.result.thumb||t.result.gift_img,expression:"result.thumb || result.gift_img"}],staticClass:"gift-list-img-content",on:{click:function(e){return e.stopPropagation(),t.APP_IMAGEPREVIEW_MUTATE({previewImage:[t.result.img],imagePreviewShow:!0})}}})]):t._e(),i("div",{staticClass:"flex-column flex-center-start"},[i("span",{staticClass:"color-393d49 size-30 weight-bold padding-bottom-20 max-width-400 text-ellipsis text-break text-justify"},[t._v(t._s(t.result.gift_name))]),i("span",{staticClass:"size-28 color-454545"},[t._v("编号"+t._s(t.result.gift_id))])])]),t._t("default")],2)])},a=[],s=i("5530"),r=i("2f62"),c={name:"GiftList",components:{},props:{result:{type:Object}},data:function(){return{}},computed:{checked:{get:function(){return this.result.checked},set:function(t){this.$emit("trigger-click",Object(s["a"])(Object(s["a"])({},this.result),{},{checked:t}))}}},methods:Object(s["a"])(Object(s["a"])({},Object(r["c"])(["APP_IMAGEPREVIEW_MUTATE"])),{},{handleClick:function(){this.$emit("trigger-click",Object(s["a"])(Object(s["a"])({},this.result),{},{checked:!this.result.checked}))}})},o=c,l=(i("9388"),i("2877")),f=Object(l["a"])(o,n,a,!1,null,"5938b618",null),u=f.exports;e["a"]=u},"878a":function(t,e,i){},9388:function(t,e,i){"use strict";var n=i("a3fb"),a=i.n(n);a.a},a0af:function(t,e,i){},a3fb:function(t,e,i){},b4ee:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{class:t.wrapClasses,style:t.styles,on:{click:t.handleClick}})},a=[],s=(i("99af"),i("b0c0"),i("d3b7"),i("ac1f"),i("25f0"),i("1276"),i("2909")),r={name:"HhfIcon",components:{},props:{classes:[Array,String],styles:Object,name:{type:String,required:!0}},data:function(){return{}},computed:{wrapClasses:function(){var t=["hhf-icon","hhf-iconfont","hhf-icon-".concat(this.name)];if("[object Array]"===Object.prototype.toString.call(this.classes))t=[].concat(Object(s["a"])(t),Object(s["a"])(this.classes));else if("string"===typeof this.classes){var e=this.classes.split(" ");t=[].concat(Object(s["a"])(t),Object(s["a"])(e))}return t}},mounted:function(){},methods:{handleClick:function(){this.$emit("trigger-click")}}},c=r,o=i("2877"),l=Object(o["a"])(c,n,a,!1,null,"0e833f38",null),f=l.exports;e["a"]=f},b680:function(t,e,i){"use strict";var n=i("23e7"),a=i("a691"),s=i("408a"),r=i("1148"),c=i("d039"),o=1..toFixed,l=Math.floor,f=function(t,e,i){return 0===e?i:e%2===1?f(t,e-1,i*t):f(t*t,e/2,i)},u=function(t){var e=0,i=t;while(i>=4096)e+=12,i/=4096;while(i>=2)e+=1,i/=2;return e},d=o&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!c((function(){o.call({})}));n({target:"Number",proto:!0,forced:d},{toFixed:function(t){var e,i,n,c,o=s(this),d=a(t),h=[0,0,0,0,0,0],g="",p="0",m=function(t,e){var i=-1,n=e;while(++i<6)n+=t*h[i],h[i]=n%1e7,n=l(n/1e7)},v=function(t){var e=6,i=0;while(--e>=0)i+=h[e],h[e]=l(i/t),i=i%t*1e7},b=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==h[t]){var i=String(h[t]);e=""===e?i:e+r.call("0",7-i.length)+i}return e};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return String(o);if(o<0&&(g="-",o=-o),o>1e-21)if(e=u(o*f(2,69,1))-69,i=e<0?o*f(2,-e,1):o/f(2,e,1),i*=4503599627370496,e=52-e,e>0){m(0,i),n=d;while(n>=7)m(1e7,0),n-=7;m(f(10,n,1),0),n=e-1;while(n>=23)v(1<<23),n-=23;v(1<<n),m(1,1),v(2),p=b()}else m(0,i),m(1<<-e,0),p=b()+r.call("0",d);return d>0?(c=p.length,p=g+(c<=d?"0."+r.call("0",d-c)+p:p.slice(0,c-d)+"."+p.slice(c-d))):p=g+p,p}})},d239:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex-row flex-between-center bgcolor-f2 header-search"},[i("form",{staticClass:"flex-1",attrs:{action:"javascript:return true"}},[i("van-search",{staticClass:"header-search-content",attrs:{value:t.value,placeholder:t.placeholder,background:"#f2f2f2"},on:{input:t.handleInput,search:t.handleSearch}})],1),t.filter?i("div",{staticClass:"header-search-filter color-2f4056"},[i("van-icon",{attrs:{name:"filter-o"},on:{click:t.handleClick}})],1):t._e()])},a=[],s={name:"HeaderSearch",components:{},model:{event:"trigger-input"},props:{value:{default:""},filter:{type:Boolean,default:!1},status:{type:Boolean,default:!1},placeholder:String},data:function(){return{}},mounted:function(){},methods:{handleSearch:function(){this.$emit("trigger-search",this.value)},handleInput:function(t){this.$emit("trigger-input",t)},handleClick:function(){this.$emit("trigger-click")}}},r=s,c=(i("380a"),i("2877")),o=Object(c["a"])(r,n,a,!1,null,null,null),l=o.exports;e["a"]=l},de0f:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["size-0",t.getBottomZIndexCls]},[i("div",{class:t.wrapClasses,style:t.wrapStyles,on:{click:t.handleClick}},[i("div",{staticClass:"hhf-button-container flex-row flex-center"},[!t.$slots.loading&&t.loading?[i("div",{staticClass:"hhf-button-loading-container"},[i("div",{staticClass:"hhf-button-loading-content"},[i("HhfIcon",{attrs:{name:"spinner-loading"}})],1)])]:t.loading?[t._t("loading")]:t._e(),t._t("default")],2)])])},a=[],s=(i("99af"),i("caad"),i("a9e3"),i("d3b7"),i("ac1f"),i("25f0"),i("1276"),i("5530")),r=i("b4ee"),c={name:"",components:{HhfIcon:r["a"]},props:{disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingText:{type:String,default:"加载中…"},text:{type:String,default:"确定"},bottomZIndex:{type:Number},radius:String,activeColor:Object,plain:Boolean,type:{type:String,default:"default",validator:function(t){return["default","primary","success","info","warning","danger"].includes(t)}},size:{type:String,default:"normal",validator:function(t){return["normal","large","small","mini","custom"].includes(t)}},classes:[String,Array],styles:Object},data:function(){return{}},computed:{getBottomZIndexCls:function(){return this.bottomZIndex?"hhf-button-".concat(this.size,"-height"):null},wrapClasses:function(){var t=this.classes,e=this.size,i=this.type,n=this.plain,a=this.loading,s=this.disabled,r=this.bottomZIndex,c=["hhf-button","hhf-button-".concat(i),"hhf-button-".concat(e),r?"hhf-button-".concat(e,"-fixed"):null];if("[object Array]"===Object.prototype.toString.call(t))c=c.concat(t);else if("string"===typeof t){var o=t.split(" ");c=c.concat(o)}return n&&c.push("hhf-button-plain"),a&&c.push("hhf-button-loading"),s&&c.push("hhf-button-disabled"),c},wrapStyles:function(){var t=this.styles,e=this.radius,i=this.bottomZIndex,n=Object(s["a"])(Object(s["a"])({},t),{},{borderRadius:e,zIndex:i});return n}},mounted:function(){},methods:{handleClick:function(){var t=this.loading,e=this.disabled;t||e||this.$emit("trigger-click")}}},o=c,l=(i("048b"),i("2877")),f=Object(l["a"])(o,n,a,!1,null,null,null),u=f.exports;e["a"]=u}}]);